<table mat-table [dataSource]="data$" matSort class="mat-elevation-z8" (matSortChange)="sortReviews($event)">

  <ng-container matColumnDef="title">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-cell">Title</th>
    <td mat-cell *matCellDef="let book" class="text-cell">{{book.title}}</td>
  </ng-container>

  <ng-container matColumnDef="author">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-cell">Author</th>
    <td mat-cell *matCellDef="let book" class="text-cell">{{book.author}}</td>
  </ng-container>

  <ng-container matColumnDef="category">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-cell">Category</th>
    <td mat-cell *matCellDef="let book" class="text-cell">{{book.category}}</td>
  </ng-container>

  <ng-container matColumnDef="language">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-cell">Language</th>
    <td mat-cell *matCellDef="let book" class="text-cell">{{book.language}}</td>
  </ng-container>

  <ng-container matColumnDef="published">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="center-cell">Published</th>
    <td mat-cell *matCellDef="let book" class="center-cell">{{book.published.getFullYear()}}</td>
  </ng-container>

  <ng-container matColumnDef="started">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-cell">Started</th>
    <td mat-cell *matCellDef="let book" class="text-cell">{{book.started | date}}</td>
  </ng-container>

  <ng-container matColumnDef="finished">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-cell">Finished</th>
    <td mat-cell *matCellDef="let book" class="text-cell">{{book.finished | date}}</td>
  </ng-container>

  <ng-container matColumnDef="hours">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="hours-cell">Hours</th>
    <td mat-cell *matCellDef="let book" class="hours-cell">{{book.hours}}</td>
  </ng-container>

  <ng-container matColumnDef="words">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="number-cell">Words</th>
    <td mat-cell *matCellDef="let book" class="number-cell">{{book.words | thousands}}</td>
  </ng-container>

  <ng-container matColumnDef="rating">
    <th mat-header-cell *matHeaderCellDef mat-sort-header class="number-cell">Rating</th>
    <td mat-cell *matCellDef="let book" class="number-cell">{{book.rating}}</td>
  </ng-container>

  <ng-container *ngIf="(displayedColumns$ | async) as displayedColumns">
    <tr mat-header-row *matHeaderRowDef="displayedColumns" class="table-header"></tr>
    <tr mat-row *matRowDef="let book; columns: displayedColumns" (click)="goTo(book)"></tr>
  </ng-container>
</table>